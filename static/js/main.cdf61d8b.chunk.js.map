{"version":3,"sources":["img/logo.svg","img/no-cover.svg","features/books/booksSlice.js","app/regex.js","app/SearchField.js","pages/searchResuts/SearchResults.js","features/books/singleBookSlice.js","pages/singlePageBook/SinglePageBook.js","app/useConstructor.js","App.js","app/store.js","index.js"],"names":["module","exports","booksAdapter","createEntityAdapter","initialState","getInitialState","status","error","fetchBooks","createAsyncThunk","search","a","fetch","response","json","body","booksSlice","createSlice","name","reducers","extraReducers","pending","state","action","fulfilled","undefined","payload","items","setAll","rejected","message","selectAllBooks","getSelectors","books","selectAll","allWordCharacters","SearchField","useState","input","setInput","history","useHistory","dispatch","useDispatch","className","type","value","onChange","event","target","onClick","e","preventDefault","searchQuery","replace","push","SearchResults","content","match","params","useSelector","bookStatus","useEffect","map","book","key","id","data","to","src","logo","alt","srcSet","BookCard","volumeInfo","title","description","publishedDate","imageLinks","image","thumbnail","noImage","shortenedDescription","substring","dateObject","Date","date","getFullYear","singleBookAdapter","fetchSingleBook","singleBookSlice","addOne","selectBook","SinglePageBook","bookId","callBack","hasBeenCalled","setHasBeenCalled","useConstructor","console","log","SingleBook","authors","infoLink","medium","dangerouslySetInnerHTML","__html","array","initialStr","i","length","formatList","href","App","exact","path","render","component","configureStore","reducer","booksReducer","bookReducer","ReactDOM","StrictMode","store","document","getElementById"],"mappings":"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","file":"static/js/main.cdf61d8b.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.1d32ccd7.svg\";","module.exports = __webpack_public_path__ + \"static/media/no-cover.e9c9f64d.svg\";","import {\r\n  createSlice,\r\n  createAsyncThunk,\r\n  createEntityAdapter,\r\n} from \"@reduxjs/toolkit\";\r\n\r\nconst booksAdapter = createEntityAdapter()\r\n\r\nconst initialState = booksAdapter.getInitialState({\r\n  status: \"idle\",\r\n  error: null,\r\n});\r\n\r\n\r\nexport const fetchBooks = createAsyncThunk('books/fetchBooks', async (search) => {\r\n    const response = await fetch(`https://www.googleapis.com/books/v1/volumes?q=${search}`)\r\n    const body = await response.json();\r\n    return body\r\n  })\r\n\r\n\r\n\r\n\r\n  \r\nexport const booksSlice = createSlice ({\r\n    name: 'books',\r\n\r\n    initialState,\r\n\r\n    reducers: {},\r\n\r\n    extraReducers: {\r\n        [fetchBooks.pending]: (state, action) => {\r\n            state.status = 'loading'\r\n          },\r\n        [fetchBooks.fulfilled]: (state, action) => {\r\n            if (action.payload.items !== undefined) {\r\n              state.status = 'succeeded'\r\n              booksAdapter.setAll(state, action.payload.items)\r\n            } else {\r\n              state.status = 'succeeded-no-matches'\r\n            }\r\n        },\r\n        [fetchBooks.rejected]: (state, action) => {\r\n            state.status = 'failed'\r\n            state.error = action.error.message\r\n          },\r\n    },\r\n})\r\n\r\nexport default booksSlice.reducer\r\n\r\nexport const {\r\n    selectAll: selectAllBooks,\r\n  } = booksAdapter.getSelectors((state) => state.books)\r\n\r\n","export const allWordCharacters = /([^\\u0041-\\u005A\\u0061-\\u007A\\u00AA\\u00B5\\u00BA\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u048A-\\u0527\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0620-\\u064A\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA\\u07F4\\u07F5\\u07FA\\u0800-\\u0815\\u081A\\u0824\\u0828\\u0840-\\u0858\\u08A0\\u08A2-\\u08AC\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0971-\\u0977\\u0979-\\u097F\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09F0\\u09F1\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C33\\u0C35-\\u0C39\\u0C3D\\u0C58\\u0C59\\u0C60\\u0C61\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0\\u0CE1\\u0CF1\\u0CF2\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D60\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EDC-\\u0EDF\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7\\u17DC\\u1820-\\u1877\\u1880-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191C\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19C1-\\u19C7\\u1A00-\\u1A16\\u1A20-\\u1A54\\u1AA7\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE\\u1BAF\\u1BBA-\\u1BE5\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C7D\\u1CE9-\\u1CEC\\u1CEE-\\u1CF1\\u1CF5\\u1CF6\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2071\\u207F\\u2090-\\u209C\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2183\\u2184\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CEE\\u2CF2\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2E2F\\u3005\\u3006\\u3031-\\u3035\\u303B\\u303C\\u3041-\\u3096\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA61F\\uA62A\\uA62B\\uA640-\\uA66E\\uA67F-\\uA697\\uA6A0-\\uA6E5\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA793\\uA7A0-\\uA7AA\\uA7F8-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA8F2-\\uA8F7\\uA8FB\\uA90A-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uA9CF\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA60-\\uAA76\\uAA7A\\uAA80-\\uAAAF\\uAAB1\\uAAB5\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEA\\uAAF2-\\uAAF4\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uABC0-\\uABE2\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC\\u0020]+)/g;","import React, { useState } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { fetchBooks } from \"../features/books/booksSlice\";\r\nimport { useDispatch } from \"react-redux\";\r\n\r\nimport { allWordCharacters } from \"../app/regex\";\r\n\r\nimport './SearchField.css'\r\n\r\nexport const SearchField = () => {\r\n  const [input, setInput] = useState(\"\");\r\n\r\n  const handleInputChange = (event) => {\r\n    const { value } = event.target;\r\n    setInput(value);\r\n  };\r\n\r\n\r\n\r\n  const history = useHistory();\r\n\r\n  const dispatch = useDispatch()\r\n  return (\r\n    <form className='search-field'>\r\n      <input\r\n        type=\"text\"\r\n        value={input}\r\n        onChange={handleInputChange}\r\n      />\r\n      <button\r\n        type=\"submit\"\r\n        onClick={(e) => {\r\n          e.preventDefault();\r\n          if (input !== '') {\r\n            const searchQuery = input.replace(allWordCharacters, \"\")\r\n            setInput(searchQuery)\r\n            dispatch(fetchBooks(searchQuery))\r\n            history.push(`/search/${searchQuery}`);\r\n          }\r\n        }}\r\n      />\r\n    </form>\r\n  );\r\n};\r\n\r\n\r\n","import React, { useEffect } from \"react\";\r\nimport { fetchBooks, selectAllBooks } from \"../../features/books/booksSlice\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { SearchField } from \"../../app/SearchField\";\r\n\r\nimport noImage from \"../../img/no-cover.svg\";\r\nimport logo from \"../../img/logo.svg\";\r\n\r\nimport \"./SearchResults.css\";\r\n\r\nexport const SearchResults = ({ match }) => {\r\n  const { search } = match.params;\r\n\r\n  const dispatch = useDispatch();\r\n  const books = useSelector(selectAllBooks);\r\n\r\n  const bookStatus = useSelector((state) => state.books.status);\r\n  const error = useSelector((state) => state.books.error);\r\n\r\n  useEffect(() => {\r\n    if (bookStatus === \"idle\") {\r\n      dispatch(fetchBooks(search));\r\n    }\r\n  }, [bookStatus, dispatch, search]);\r\n\r\n  useEffect(() => {\r\n    dispatch(fetchBooks(search));\r\n  }, [search, dispatch]);\r\n\r\n  let content;\r\n\r\n  if (bookStatus === \"loading\") {\r\n    content = <div className=\"loader\">Loading...</div>;\r\n  } else if (bookStatus === \"succeeded\") {\r\n    content = books.map((book) => {\r\n      return <BookCard key={book.id} data={book} />;\r\n    });\r\n  } else if (bookStatus === \"failed\") {\r\n    content = <div>{error}</div>;\r\n  } else if (bookStatus === \"succeeded-no-matches\") {\r\n    content = <div>Your search didn't return anything</div>;\r\n  }\r\n\r\n  return (\r\n    <div className=\"wrapper search-results\">\r\n      <section className=\"\">\r\n        <div className=\"logo\">\r\n          <Link to=\"/\">\r\n            <img\r\n              src={logo}\r\n              alt=\"Letras. Googling books with extra steps\"\r\n              srcSet=\"\"\r\n            />\r\n          </Link>\r\n        </div>\r\n        <SearchField />\r\n\r\n        <div className=\"cards-container\">{content}</div>\r\n      </section>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport const BookCard = ({ data }) => {\r\n  const { title, description, publishedDate, imageLinks } = data.volumeInfo;\r\n\r\n  const image = imageLinks !== undefined ? imageLinks.thumbnail : noImage;\r\n  const shortenedDescription = description\r\n    ? description.substring(0, 100) + \"...\"\r\n    : \"\";\r\n  const dateObject = new Date(publishedDate);\r\n  const date = publishedDate !== undefined ? dateObject.getFullYear() : \"\";\r\n\r\n  return (\r\n    <Link to={`/book/${data.id}`}>\r\n      <div className=\"book-card\">\r\n        <div className=\"cover\">\r\n          <img src={image} alt=\"\" srcSet=\"\" />\r\n        </div>\r\n        <h2>{title}</h2>\r\n        <p>{shortenedDescription}</p>\r\n        <p>{date}</p>\r\n      </div>{\" \"}\r\n    </Link>\r\n  );\r\n};\r\n","import {\r\n  createSlice,\r\n  createAsyncThunk,\r\n  createEntityAdapter,\r\n} from \"@reduxjs/toolkit\";\r\n\r\nconst singleBookAdapter = createEntityAdapter();\r\n\r\nconst initialState = singleBookAdapter.getInitialState({\r\n  status: \"idle\",\r\n  error: null,\r\n});\r\n\r\nexport const fetchSingleBook = createAsyncThunk(\r\n  \"books/fetchSingleBook\",\r\n  async (id) => {\r\n    const response = await fetch(\r\n      `https://www.googleapis.com/books/v1/volumes/${id}`\r\n    );\r\n    const body = await response.json();\r\n    return body;\r\n  }\r\n);\r\n\r\nexport const singleBookSlice = createSlice({\r\n  name: \"book\",\r\n\r\n  initialState,\r\n\r\n  reducers: {},\r\n\r\n  extraReducers: {\r\n    [fetchSingleBook.pending]: (state, action) => {\r\n      state.status = \"loading\";\r\n    },\r\n    [fetchSingleBook.fulfilled]: (state, action) => {\r\n      state.status = \"succeeded\";\r\n      singleBookAdapter.setAll(state, []);\r\n      singleBookAdapter.addOne(state, action.payload);\r\n    },\r\n    [fetchSingleBook.rejected]: (state, action) => {\r\n      state.status = \"failed\";\r\n      state.error = action.error.message;\r\n    },\r\n  },\r\n});\r\n\r\nexport default singleBookSlice.reducer;\r\n\r\nexport const { selectAll: selectBook } = singleBookAdapter.getSelectors(\r\n  (state) => state.book\r\n);\r\n","import React from \"react\";\r\nimport {\r\n  fetchSingleBook,\r\n  selectBook,\r\n} from \"../../features/books/singleBookSlice\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport useConstructor from \"../../app/useConstructor\";\r\nimport { SearchField } from \"../../app/SearchField\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport noImage from \"../../img/no-cover.svg\";\r\nimport logo from \"../../img/logo.svg\";\r\n\r\nimport \"./SinglePageBook.css\";\r\n\r\nexport const SinglePageBook = ({ match }) => {\r\n  const { bookId } = match.params;\r\n\r\n  const dispatch = useDispatch();\r\n  const book = useSelector(selectBook);\r\n\r\n  const bookStatus = useSelector((state) => state.book.status);\r\n  const error = useSelector((state) => state.book.error);\r\n\r\n  useConstructor(() => {\r\n    if (bookStatus === \"idle\" || bookStatus === \"succeeded\") {\r\n      dispatch(fetchSingleBook(bookId));\r\n    }\r\n  });\r\n\r\n  let content;\r\n  console.log(\"on route change\");\r\n\r\n  if (bookStatus === \"loading\") {\r\n    content = (\r\n      <div className=\"single-page-book-content\">\r\n        <div className=\"loader\">Loading...</div>\r\n      </div>\r\n    );\r\n  } else if (bookStatus === \"succeeded\") {\r\n    content = <SingleBook data={book[0]} />;\r\n  } else if (bookStatus === \"failed\") {\r\n    content = <div>{error}</div>;\r\n  }\r\n\r\n  return (\r\n    <div className=\"wrapper single-page-book\">\r\n      <section>\r\n        <div className=\"logo\">\r\n          <Link to=\"/\">\r\n            <img\r\n              src={logo}\r\n              alt=\"Letras. Googling books with extra steps\"\r\n              srcSet=\"\"\r\n            />\r\n          </Link>\r\n        </div>\r\n        <SearchField />\r\n        {content}\r\n      </section>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport const SingleBook = ({ data }) => {\r\n  const {\r\n    title,\r\n    authors,\r\n    description,\r\n    publishedDate,\r\n    imageLinks,\r\n    infoLink,\r\n  } = data.volumeInfo;\r\n\r\n  const image = imageLinks !== undefined ? imageLinks.medium : noImage;\r\n  const dateObject = new Date(publishedDate);\r\n  const date = publishedDate !== undefined ? dateObject.getFullYear() : \"\";\r\n\r\n  const formatList = (array) => {\r\n    let initialStr = \"By\";\r\n\r\n    for (let i = 0; i < array.length; i++) {\r\n      if (i === 0) {\r\n        initialStr += ` ${array[i]}`;\r\n      } else if (i === array.length - 1) {\r\n        initialStr += ` and ${array[i]}`;\r\n      } else {\r\n        initialStr += `, ${array[i]}`;\r\n      }\r\n    }\r\n\r\n    return initialStr;\r\n  };\r\n\r\n  return (\r\n    <div className=\"single-page-book-content\">\r\n      <div className=\"cover\">\r\n        <img src={image} alt=\"\" srcSet=\"\" />\r\n      </div>\r\n      <div className=\"info\">\r\n        <h1>{title}</h1>\r\n        <p dangerouslySetInnerHTML={{ __html: description }}></p>\r\n        <p>{date}</p>\r\n        <p>{formatList(authors)}</p>\r\n        <a href={infoLink}>\r\n          <div className=\"button\">Google link</div>\r\n        </a>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","import { useState } from 'react';  \r\n\r\nexport default function useConstructor (callBack) {\r\n    const [hasBeenCalled, setHasBeenCalled] = useState(false);\r\n    if (hasBeenCalled) return;\r\n    callBack();\r\n    setHasBeenCalled(true);\r\n  }","import React from \"react\";\nimport {\n  BrowserRouter as Router,\n  Route,\n} from \"react-router-dom\";\nimport { SearchField } from \"./app/SearchField\";\nimport { SearchResults } from \"./pages/searchResuts/SearchResults\";\nimport { SinglePageBook } from \"./pages/singlePageBook/SinglePageBook\";\nimport logo from \"./img/logo.svg\";\nimport \"./App.css\";\n\nfunction App() {\n  return (\n    <Router>\n      <div className=\"App\">\n        <Route\n          exact\n          path=\"/\"\n          render={() => (\n              <div className=\"home wrapper\">\n                <section>\n                  <div className=\"logo\">\n                    <img src={logo} alt=\"Letras. Googling books with extra steps\" srcSet=\"\" />\n                  </div>\n                  <SearchField />\n                </section>\n              </div>\n          )}\n        />\n      </div>\n\n      <Route exact path=\"/search/:search\" component={SearchResults} />\n      <Route exact path=\"/book/:bookId\" component={SinglePageBook} />\n    </Router>\n  );\n}\n\nexport default App;\n","import { configureStore } from '@reduxjs/toolkit'\r\n\r\nimport booksReducer from '../features/books/booksSlice'\r\nimport bookReducer from '../features/books/singleBookSlice'\r\n//import notificationsReducer from '../features/notifications/notificationsSlice'\r\n\r\n\r\nexport default configureStore({\r\n  reducer: {\r\n    books: booksReducer,\r\n    book: bookReducer,\r\n   // notifications: notificationsReducer\r\n  }\r\n})\r\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.css'\nimport App from './App'\nimport store from './app/store'\nimport { Provider } from 'react-redux'\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n)\n"],"sourceRoot":""}